<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>E-vacuate</title>

    <link href="asset/css/inspinia/css/bootstrap.min.css" rel="stylesheet">
    <link href="asset/css/inspinia/font-awesome/css/font-awesome.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <link href="asset/css/inspinia/css/animate.css" rel="stylesheet">
    <link href="asset/css/inspinia/css/style.css" rel="stylesheet">

</head>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

<body>

    <div id="wrapper">
        <nav class="navbar-default navbar-static-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav metismenu" id="side-menu">
                    <li class="nav-header">
                        <div class="dropdown profile-element">
                            <img alt="image" class="rounded-circle" src="asset/css/inspinia/img/avatar-icon-64pxwhite.png" />
                            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                <span class="block m-t-xs font-bold">Admin</span>
                                <span class="text-muted text-xs block">Option <b class="caret"></b></span>
                            </a>
                            <ul class="dropdown-menu animated fadeInRight m-t-xs">
                                <li><a class="dropdown-item" href="profile.html">Profile</a></li>
                                <li><a class="dropdown-item" href="contacts.html">Contacts</a></li>
                                <li><a class="dropdown-item" href="mailbox.html">Mailbox</a></li>
                                <li class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="index.html">Logout</a></li>
                            </ul>
                        </div>
                        <div class="logo-element">
                            E
                        </div>
                    </li>
                    <li></i> <a href="dashboard.html"><i class="fa fa-th-large"></i> <span class="nav-label">Dashboard</span></a></li>
                    <li class="active"></i> <a href="announcement.html"><i class="fa fa-newspaper-o"></i> <span class="nav-label">Advisory</span></a></li>
                    <li></i> <a href="evacuationsite.html"><i class="fa fa-home"></i> <span class="nav-label">Evacuation Site</span></a></li>
                    <li></i> <a href="calamityhistory.html"><i class="fa fa-history"></i> <span class="nav-label">Previous Year History</span></a></li>
                </ul>

            </div>
        </nav>

        <div id="page-wrapper" class="gray-bg">
            <div class="row border-bottom">
                <nav class="navbar navbar-static-top  white-bg" role="navigation" style="margin-bottom: 0">
                    <div class="navbar-header">
                        <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i
                                class="fa fa-bars"></i> </a>

                    </div>
                    <ul class="nav navbar-top-links navbar-right">


                        <li>
                            <a href="index.html">
                                <i class="fa fa-sign-out"></i> Log out
                            </a>
                        </li>
                    </ul>

                </nav>
            </div>
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-sm-4">
                    <h2>Advisory</h2>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <p>E-vacuate</p>
                        </li>
                        <li class="breadcrumb-item active">
                            <strong>Advisory</strong>
                        </li>
                    </ol>
                </div>

            </div>

            <div class="ibox-content">
                <button id="getData" type="submit"  style="display:none;">g</button>
                <table class="table">
                    
                    <thead>
                        <tr>
                            <th>#</th>
                            <th style="display: none;">id</th>
                            <th>City</th>
                            <th>Description</th>
                            <th>Action</th>

                        </tr>
                    </thead>
                    
                    <tbody id="tbody">

                    </tbody>
                </table>

            </div>


              
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Update</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
              

                <div class="mb-3">
                <label for="title1" class="form-label">City</label>
                <input type="text" class="form-control" id="edittitle" readonly/>
                </div>

                <div class="mb-3">
                <label for="title1" class="form-label">Description</label>
                
                <textarea rows="5" class="form-control" cols="50" id="editdescription" style="width: 100%; max-width: 100%;"></textarea>
                </div>
                    <input type="hidden" id="id"/>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" id="updateData" onclick="updateData()">Save changes</button>
                </div>
              </div>
            </div>
          </div>

          




            <div class="footer">
                <div>
                    <strong>Copyright</strong> E-vacuate &copy; 2022
                </div>
            </div>

        </div>
       

        
        
        
    </div>

    <!-- Mainly scripts -->
    <script src="asset/css/inspinia/js/jquery-3.1.1.min.js"></script>
    <script src="asset/css/inspinia/js/popper.min.js"></script>
    <script src="asset/css/inspinia/js/bootstrap.js"></script>
    <script src="asset/css/inspinia/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="asset/css/inspinia/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    

    <!-- Custom and plugin javascript -->
    <script src="asset/css/inspinia/js/inspinia.js"></script>
    <script src="asset/css/inspinia/js/plugins/pace/pace.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

    
      
   
       
   
      
   
       
       
   
       
   
      
   




    <script>

$(document).ready(function() {
    $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }
    });
});

      window.onload=function(){
  document.getElementById("getData").click();
};

function toModal(title, description){
    
    modal = document.getElementById('modal')
}

        //view data
    
</script>

<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
<script src="asset/js/announcement.js"></script>


    <!-- <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-analytics.js";
        import { getDatabase, set, ref, push, child, onValue } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js";
       
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {

            apiKey: "AIzaSyAWxOG4S19cvaF0EQjZzQmEho-Wyi-klzk",
            authDomain: "evacuateisucc.firebaseapp.com",
            databaseURL: "https://evacuateisucc-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "evacuateisucc",
            storageBucket: "evacuateisucc.appspot.com",
            messagingSenderId: "538255187251",
            appId: "1:538255187251:web:55ee2fcbfaf277dc037246",
            measurementId: "G-F2YCWLTF13"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
       
        const announcementRef = ref(database, "announcement");
        let db = firebase.database();
        let tbody = document.getElementById('tbody');
        let titleV = document.getElementById('title');
        let descriptionV = document.getElementById('description'); -->
        

        // getData.addEventListener("click", (e) => {
        //     $('#dataTbl td').remove();
        //     var row = document.getElementById("dataTbl")
        //     //  row.deleteCell(0);
        //     const dbRef = ref(database, "announcement");

        //     onValue(dbRef, (snapshot) => {
        //         snapshot.forEach((childSnapshot) => {
        //             const childKey = childSnapshot.key;
        //             const childData = childSnapshot.val();
        //             // ...
                    
        //             var row =
        //                 "<tr><td style=display:none>" +
        //                 childData.id +
        //                 "</td><td>" +
        //                 childData.title +
        //                 "</td><td>" +
        //                 childData.description +
        //                 "</td><td>" +
        //                 "<a toggle=modal class='btn btn-primary' href='#modal-form'>Update</a>" +
        //                 "</td></tr>";

        //         $(row).appendTo("#dataTbl");
        //         });
        //     }, {
        //         onlyOnce: true
        //     });
        // })


       
    
    // onValue(announcementRef, (snapshot) => {
    // const datas = snapshot.val();
    
    // console.log(datas);
    // for(data in datas)
    // {
    //     // console.log(datas[data]);
    //     let tr = `
    //     <tr>
    //         <td>${datas[data].title}</td>
    //         <td>${datas[data].description}</td>
    //         <td>
    //             <button class="btn btn-primary">Update</button>
    //         </td>
    //     </tr>
    //     `
    //     tablebody.innerHTML += tr;
    // }
    // });

    // function editRow(id){
    //     console.log(id);
    // }

    //tutor1

//     db.ref('announcement').on('value', viewdata);
//     function viewdata(snapshot){
//         let table='';
//         let no = 1;
//         snapshot.forEach((data)=> {
//             table += `
//             <tr>
//                 <th scope="row">1</th>
//                 <td>${data.val().title}</td>
//                 <td>${data.val().description}</td>  
//                 <td><button>Update</button></td>
//             </tr>
//         `;              
//         });
//     tbody.innerHTML = table;
//   }


     <!-- </script> -->

    <!-- <script src="js/form.js"></script> -->
    

</body>



</html>